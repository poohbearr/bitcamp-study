<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>회원정보</title>
  </head>
  <body>
    <h1>새 회원정보</h1>
    <form>
      *이름:<input id="x-name" type="text"><br>
      *주민번호:<input id="x-idNum" type="text"><br>
      나이:<input id="x-age" type="text"><br>
      주소:<input id="x-address" type="text"><br>
      *이메일:<input id="x-email" type="text"><br>
      *(별표)는 필수 입력 항목입니다.<br>
      <button id="x-add-btn" type="button">등록</button>
      <button id="x-cancel-btn" type="button">취소</button>
    </form>
  </body>

  <script type="text/javascript">
    var xName = document.querySelector("#x-name");
    var xIdNum = document.querySelector("#x-idNum");
    var xAge = document.querySelector("#x-age");
    var xAddress = document.querySelector("#x-address");
    var xEmail = document.querySelector("#x-email");

    document.querySelector("#x-add-btn").onclick = function() {
      if (xName.value == "" | xIdNum.value == "" | xEmail.value == "") {
        alert("필수 입력 항목을 입력하세요!");
        return;
      }

      fetch(`/my1/add?name=${xName.value}&idNum=${xIdNum.value}&age=${xAge.value}&address=${xAddress.value}&email=${xEmail.value}`)
      .then(function(response) {
        return response.text();
      })
      .then(function(text) {
        console.log(text);
        location.href = "index.html";
      })
    }

    document.querySelector("#x-cancel-btn").onclick = function() {
      window.location.href = "index.html";
    }
  </script>

</html>
